<div class="row">
  <div class="col-12">
    <h2 class="mb-4">Upload Images for OCR</h2>

    <div class="card p-4 mb-4">
      <input type="file" class="form-control mb-3" (change)="onFileSelected($event)" multiple accept="image/*">

      <button class="btn btn-primary" (click)="upload()" [disabled]="loading || !selectedFiles">
        {{ loading ? 'Processing...' : 'Extract Text' }}
      </button>

      <div class="alert alert-success mt-3" *ngIf="message && !loading">{{ message }}</div>
    </div>

    <div *ngIf="results.length > 0">
      <h3>Results</h3>
      <div class="row">
        <div class="col-md-6 mb-4" *ngFor="let result of results">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">{{ result.originalFilename }}</h5>
              <p><strong>Preview:</strong></p>
              <p class="text-muted">{{ result.preview }}</p>

              <div class="mt-3">
                <button class="btn btn-sm btn-outline-secondary me-2" (click)="download(result.fileId, 'text')">Text</button>
                <button class="btn btn-sm btn-outline-info me-2" (click)="download(result.fileId, 'pdf')">PDF</button>
                <button class="btn btn-sm btn-outline-success" (click)="download(result.fileId, 'docx')">DOCX</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
